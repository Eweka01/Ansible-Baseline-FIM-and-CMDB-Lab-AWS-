# AWS Instance Information
# Generated by Ansible on {{ ansible_date_time.iso8601 }}

Hostname: {{ ansible_hostname }}
FQDN: {{ ansible_fqdn }}
Instance ID: {{ ansible_ec2_instance_id | default('unknown') }}
Public IP: {{ ansible_host }}
Private IP: {{ ansible_ec2_private_ip_address | default('unknown') }}
OS: {{ ansible_distribution }} {{ ansible_distribution_version }}
Architecture: {{ ansible_architecture }}
Kernel: {{ ansible_kernel }}
Uptime: {{ ansible_uptime_seconds | int // 3600 }} hours

# AWS Information
Instance Type: {{ instance_type | default('t2.micro') }}
Availability Zone: {{ aws_availability_zone | default('us-east-1a') }}
Region: {{ aws_region | default('us-east-1') }}
Security Group: {{ security_group_name | default('default') }}
Key Name: key-p3
Launch Time: {{ launch_time | default('2025-10-03T14:35:00Z') }}

# Network Information
{% for interface in ansible_interfaces %}
Interface {{ interface }}:
  IP: {{ ansible_facts[interface]['ipv4']['address'] | default('N/A') }}
  MAC: {{ ansible_facts[interface]['macaddress'] | default('N/A') }}
{% endfor %}

# System Resources
CPU Cores: {{ ansible_processor_vcpus }}
Total Memory: {{ ansible_memtotal_mb }} MB
Available Memory: {{ ansible_memavailable_mb | default(ansible_memtotal_mb) }} MB
Disk Space: {{ ansible_mounts | selectattr('mount', 'equalto', '/') | map(attribute='size_total') | first | int // (1024**3) }} GB

# Lab Configuration
Environment: {{ environment | default('production') }}
Service Type: {{ service_type | default('general') }}
Baseline Version: 1.0.0
Configured On: {{ playbook_start_time | default(ansible_date_time.iso8601) }}

# Security Settings
Firewall: {{ 'enabled' if enable_firewall | default(true) else 'disabled' }}
Fail2ban: enabled
SSH Root Login: disabled
SSH Key Authentication: enabled

# Monitoring
FIM Enabled: {{ 'enabled' if fim_enabled | default(true) else 'disabled' }}
CMDB Enabled: {{ 'enabled' if cmdb_enabled | default(true) else 'disabled' }}
Monitoring: {{ 'enabled' if monitoring_enabled | default(true) else 'disabled' }}
Alerting: {{ 'enabled' if alerting_enabled | default(true) else 'disabled' }}

# AWS Services
CloudWatch: {{ 'enabled' if aws_cloudwatch_enabled | default(true) else 'disabled' }}
SSM: {{ 'enabled' if aws_ssm_enabled | default(false) else 'disabled' }}
Backup: {{ 'enabled' if aws_backup_enabled | default(false) else 'disabled' }}
